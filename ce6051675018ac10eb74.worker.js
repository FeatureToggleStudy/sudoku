!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/sudoku/",r(r.s=0)}([function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(l){o=!0,u=l}finally{try{n||null==i.return||i.return()}finally{if(o)throw u}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(e);var a=[[3,6,1,7,2,5,9,4,8],[5,8,7,9,6,4,2,1,3],[4,9,2,8,3,1,6,5,7],[6,3,8,2,5,9,4,7,1],[1,7,4,6,8,3,5,9,2],[2,5,9,1,4,7,8,3,6],[7,4,6,3,9,2,1,8,5],[9,2,3,5,1,8,7,6,4],[8,1,5,4,7,6,3,2,9]],i=[[0,1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25,26],[27,28,29,30,31,32,33,34,35],[36,37,38,39,40,41,42,43,44],[45,46,47,48,49,50,51,52,53],[54,55,56,57,58,59,60,61,62],[63,64,65,66,67,68,69,70,71],[72,73,74,75,76,77,78,79,80]],l=[[0,1,2,9,10,11,18,19,20],[3,4,5,12,13,14,21,22,23],[6,7,8,15,16,17,24,25,26],[27,28,29,36,37,38,45,46,47],[30,31,32,39,40,41,48,49,50],[33,34,35,42,43,44,51,52,53],[54,55,56,63,64,65,72,73,74],[57,58,59,66,67,68,75,76,77],[60,61,62,69,70,71,78,79,80]],s=[[0,9,18,27,36,45,54,63,72],[1,10,19,28,37,46,55,64,73],[2,11,20,29,38,47,56,65,74],[3,12,21,30,39,48,57,66,75],[4,13,22,31,40,49,58,67,76],[5,14,23,32,41,50,59,68,77],[6,15,24,33,42,51,60,69,78],[7,16,25,34,43,52,61,70,79],[8,17,26,35,44,53,62,71,80]],f=function(t,e){return(r=e+1,u(Array(r).keys())).slice(t);var r},c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.difficulty=e,this.success=void 0,this.solution=void 0,this.data=void 0,this.solution=this.shuffle(a);var r=20;do{if(this.data=this.solution.map(function(t){return u(t)}),this.removeValues(),this.hasUniqueSolution())break}while(--r);this.success=0!==r}var e,r,c;return e=t,(r=[{key:"shuffle",value:function(t){for(var e=a.map(function(t){return u(t)}),r=0;r<4200;r++)this.moveRowOrColumn(e);return e}},{key:"succeeded",value:function(){return this.success}},{key:"getPuzzleData",value:function(){var t=this;return this.data.map(function(e,r){return e.map(function(e,n){return[t.solution[r][n],t.solution[r][n]===t.data[r][n]]})})}},{key:"removeValues",value:function(){for(var t=this.difficulty;t;){var e=~~(9*Math.random()),r=~~(9*Math.random());null!==this.data[e][r]&&(this.data[e][r]=null,--t)}}},{key:"moveRowOrColumn",value:function(t){var e=n(this.getFromAndTo(),2),r=e[0],o=e[1];Math.round(Math.random())?this.moveColumn(t,r,o):this.moveRow(t,r,o)}},{key:"getFromAndTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;t=-1===t?Math.floor(3*Math.random()):t;var e=~~(3*Math.random());if(e===t)return this.getFromAndTo(t);var r=~~(3*Math.random());return[3*r+t,3*r+e]}},{key:"moveRow",value:function(t,e,r){var n=t[r];t[r]=t[e],t[e]=n}},{key:"moveColumn",value:function(t,e,r){t.forEach(function(t){var n=t[r];t[r]=t[e],t[e]=n})}},{key:"hasUniqueSolution",value:function(){var t=this.data.reduce(function(t,e){return t.concat(e)},[]),e=this.findCandidates(t),r=this.recurseOverCandidates(e);return r}},{key:"recurseOverCandidates",value:function(t){if(this.isSolved(t))return!0;if(this.isUnsolvable(t))return!1;for(var e=this.getStartIndex(t),r=t[e],n=r.length,o=0,u=0;u<n;u++){var a=r[u],i=this.removeValueFromCandidates(t,e,a);this.recurseOverCandidates(i)&&(o+=1)}return 1===o}},{key:"removeValueFromCandidates",value:function(t,e,r){for(var n=u(t.map(function(t){return u(t)})),o=this.findParents(e),a=o.row,f=o.column,c=o.block,v=[].concat(u(i[a]),u(s[f]),u(l[c])),d=0;d<27;d++){var h=v[d];n[h]=n[h].filter(function(t){return t!==r})}return n[e]=[r],n}},{key:"isSolved",value:function(t){for(var e=0;e<81;e++)if(1!==t[e].length)return!1;return!0}},{key:"isUnsolvable",value:function(t){for(var e=0;e<81;e++)if(0===t[e].length)return!0;return!1}},{key:"getStartIndex",value:function(t){for(var e=-1,r=9,n=0;n<81;n++){var o=t[n].length;if(2===o)return n;o>2&&o<r&&(e=n,r=o)}if(-1===e)throw new Error("Couldn't find a good start index for further solving.");return e}},{key:"segment",value:function(t){for(var e=[[],[],[],[],[],[],[],[],[]],r=[[],[],[],[],[],[],[],[],[]],n=[[],[],[],[],[],[],[],[],[]],o=0;o<81;o++){var u=t[o],a=this.findParents(o),i=a.row,l=a.column,s=a.block;e[i].push(u),r[s].push(u),n[l].push(u)}return{rows:e,blocks:r,columns:n}}},{key:"findParents",value:function(t){var e=~~(t/9),r=t%9;return{block:3*~~(e/3)+~~(r/3),row:e,column:r}}},{key:"findCandidates",value:function(t){for(var e=this.segment(t),r=e.rows,n=e.blocks,o=e.columns,u=[],a=0;a<81;a++){var i=t[a];if(u[a]=[],null!==i)u[a].push(i);else for(var l=this.findParents(a),s=l.row,f=l.column,c=l.block,v=1;v<=9;v++)this.isAvailable(n[c],r[s],o[f],v)&&u[a].push(v)}return u}},{key:"isAvailable",value:function(t,e,r,n){for(var o=0;o<9;o++)if(t[o]===n||e[o]===n||r[o]===n)return!1;return!0}},{key:"candidates",value:function(){var t=this.data.reduce(function(t,e){return t.concat(e)},[]),e=this.findCandidates(t);return f(0,8).map(function(t){return f(0,8).map(function(r){return e[9*t+r]})})}}])&&o(e.prototype,r),c&&o(e,c),t}(),v=self;v.addEventListener("message",function(t){var e=t.data,r=new c(e);if(!r.succeeded())throw new Error("Could not generate puzzle.");var n=r.getPuzzleData();v.postMessage({puzzleData:n,difficulty:e})});e.default=null}]);
//# sourceMappingURL=ce6051675018ac10eb74.worker.js.map