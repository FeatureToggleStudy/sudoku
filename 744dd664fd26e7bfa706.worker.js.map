{"version":3,"sources":["../webpack/bootstrap","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","models/Difficulty.ts","models/Solver.ts","models/Generator.ts","workers/GeneratePuzzle.worker.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","iterator","next","done","push","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","_nonIterableSpread","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","DIFFICULTY","range","start","end","times","keys","slice","Solver","data","this","reduce","x","concat","solve","reverseCandidates","candidates","findCandidates","forEach","reverse","isSolved","map","join","isUnsolvable","startIndex","getStartIndex","values","iMax","localData","solution","lowestNumberOfCandidates","numberOfCandidates","Error","rows","blocks","columns","v","_this$findParents","findParents","row","column","block","index","_this$segment","segment","_this$findParents2","candidate","isAvailable","flatData","BASE","Generator","difficulty","shuffle","startAt","Date","now","removed","allowedAttempts","Math","random","includes","hasUniqueSolution","ellapsedTime","console","log","base","moveRowOrColumn","_this","y","_this$getFromAndTo2","getFromAndTo","to","round","moveColumn","moveRow","arguments","floor","temp","ctx","self","addEventListener","message","generator","generate","puzzleData","getPuzzleData","postMessage","__webpack_exports__"],"mappings":"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","file":"744dd664fd26e7bfa706.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/sudoku/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","\r\nexport enum DIFFICULTY {\r\n  VeryEasy = 30,\r\n  Easy = 36,\r\n  Normal = 42,\r\n  Hard = 48,\r\n  VeryHard = 54,\r\n  Insane = 60\r\n\r\n}","\r\nconst repeat = (times: number) => [...Array(times).keys()]\r\nconst range = (start: number, end: number) => repeat(end + 1).slice(start)\r\n\r\nexport default class Solver {\r\n  constructor(private data: nullber[][]) {\r\n\r\n  }\r\n\r\n  public hasUniqueSolution(): boolean {\r\n    const data = this.data.reduce((s, x) => s.concat(x), []);\r\n    const solution1 = this.solve(data, true)\r\n    const solution2 = this.solve(data, false)\r\n    return solution1 === solution2\r\n  }\r\n\r\n  private solve(data: nullber[], reverseCandidates: boolean): string {\r\n    const candidates = this.findCandidates(data)\r\n    if (reverseCandidates) {\r\n      candidates.forEach(c => c.reverse())\r\n    }\r\n\r\n    if (this.isSolved(candidates)) {\r\n      return candidates.map(c => c[0]).join('');\r\n    }\r\n    if (this.isUnsolvable(candidates)) {\r\n      return '';\r\n    }\r\n    let startIndex = this.getStartIndex(candidates);\r\n\r\n    const values = candidates[startIndex]\r\n\r\n    const iMax = values.length\r\n    for (let i = 0; i < iMax; i++) {\r\n      const value = values[i]\r\n      const localData = [...data]\r\n      localData[startIndex] = value\r\n      const solution = this.solve(localData, reverseCandidates)\r\n      if (solution) {\r\n        return solution\r\n      }\r\n    }\r\n    return ''\r\n  }\r\n\r\n  private isSolved(candidates: number[][]): boolean {\r\n    for (let i = 0; i < 81; i++) {\r\n      if (candidates[i].length !== 1) {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  private isUnsolvable(candidates: number[][]): boolean {\r\n    for (let i = 0; i < 81; i++) {\r\n      if (candidates[i].length === 0) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  private getStartIndex(candidates: number[][]): number {\r\n    let startIndex = -1;\r\n    let lowestNumberOfCandidates = 9;\r\n    for (let i = 0; i < 81; i++) {\r\n      const numberOfCandidates = candidates[i].length\r\n      if (numberOfCandidates === 2) {\r\n        return i;\r\n      }\r\n\r\n      if (numberOfCandidates > 2 && numberOfCandidates < lowestNumberOfCandidates) {\r\n        startIndex = i;\r\n        lowestNumberOfCandidates = numberOfCandidates\r\n      }\r\n    }\r\n    if (startIndex === -1) {\r\n      throw new Error(\"Couldn't find a good start index for further solving.\")\r\n    }\r\n    return startIndex;\r\n  }\r\n\r\n  private segment<T>(data: T[]): segments<T> {\r\n    const rows: T[][] = [[], [], [], [], [], [], [], [], []]\r\n    const blocks: T[][] = [[], [], [], [], [], [], [], [], []]\r\n    const columns: T[][] = [[], [], [], [], [], [], [], [], []]\r\n\r\n    for (let i = 0; i < 81; i++) {\r\n      const v = data[i]\r\n      const { row, column, block } = this.findParents(i);\r\n      rows[row].push(v)\r\n      blocks[block].push(v)\r\n      columns[column].push(v)\r\n    }\r\n\r\n    return {\r\n      rows,\r\n      blocks,\r\n      columns\r\n    }\r\n  }\r\n\r\n  private findParents(index: number): { row: number, column: number, block: number } {\r\n    const row = ~~(index / 9);\r\n    const column = index % 9\r\n    const block = ~~(row / 3) * 3 + ~~(column / 3)\r\n\r\n    return {\r\n      block,\r\n      row,\r\n      column\r\n    }\r\n  }\r\n\r\n  private findCandidates(data: nullber[]) {\r\n    const { rows, blocks, columns } = this.segment(data)\r\n    const candidates: number[][] = []\r\n    for (let i = 0; i < 81; i++) {\r\n      const value = data[i];\r\n      candidates[i] = [];\r\n      if (value !== null) {\r\n        candidates[i].push(value);\r\n      } else {\r\n        const { row, column, block } = this.findParents(i)\r\n        for (let candidate = 1; candidate <= 9; candidate++) {\r\n          if (this.isAvailable(blocks[block], rows[row], columns[column], candidate)) {\r\n            candidates[i].push(candidate);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return candidates;\r\n  }\r\n\r\n  private isAvailable(block: nullber[], row: nullber[], column: nullber[], value: number): boolean {\r\n    for (let i = 0; i < 9; i++) {\r\n      if (block[i] === value || row[i] === value || column[i] === value) {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  public getCandidates(): number[][][] {\r\n    const flatData = this.data.reduce((s, x) => s.concat(x), []);\r\n    const candidates = this.findCandidates(flatData);\r\n    return range(0, 8).map(r => range(0, 8).map(c => candidates[r * 9 + c]))\r\n  }\r\n}\r\n\r\ntype nullber = number | null\r\n\r\ntype segments<T> = {\r\n  rows: T[][]\r\n  blocks: T[][]\r\n  columns: T[][]\r\n}\r\n","import { DIFFICULTY } from \"./Difficulty\";\r\nimport Solver from \"./Solver\";\r\n\r\nconst BASE = [\r\n  [3, 6, 1, 7, 2, 5, 9, 4, 8],\r\n  [5, 8, 7, 9, 6, 4, 2, 1, 3],\r\n  [4, 9, 2, 8, 3, 1, 6, 5, 7],\r\n  [6, 3, 8, 2, 5, 9, 4, 7, 1],\r\n  [1, 7, 4, 6, 8, 3, 5, 9, 2],\r\n  [2, 5, 9, 1, 4, 7, 8, 3, 6],\r\n  [7, 4, 6, 3, 9, 2, 1, 8, 5],\r\n  [9, 2, 3, 5, 1, 8, 7, 6, 4],\r\n  [8, 1, 5, 4, 7, 6, 3, 2, 9]\r\n];\r\n\r\nexport default class Generator {\r\n  private solution: number[][];\r\n  private data: (null | number)[][];\r\n\r\n  constructor(private difficulty: DIFFICULTY) {\r\n    this.solution = this.shuffle(BASE)\r\n    this.data = [];\r\n  }\r\n\r\n  public generate() {\r\n    const startAt = Date.now()\r\n    this.data = this.solution.map(r => [...r])\r\n    const removed = [] as string[]\r\n    let allowedAttempts = 200;\r\n    while (removed.length < this.difficulty && allowedAttempts--) {\r\n      let row;\r\n      let column;\r\n      do {\r\n        row = ~~(Math.random() * 9);\r\n        column = ~~(Math.random() * 9);\r\n      } while (removed.includes(`${row}:${column}`))\r\n      let value = this.data[row][column]\r\n      this.data[row][column] = null\r\n      const solver = new Solver(this.data)\r\n      if (solver.hasUniqueSolution()) {\r\n        removed.push(`${row}:${column}`)\r\n      } else {\r\n        this.data[row][column] = value\r\n      }\r\n    }\r\n    const ellapsedTime = Date.now() - startAt\r\n\r\n    if (allowedAttempts > 0) {\r\n      console.log(`It took ${ellapsedTime}ms to generate a ${DIFFICULTY[this.difficulty]} puzzle`)\r\n      return true\r\n    } else {\r\n      console.log(`Failed to generate a ${DIFFICULTY[this.difficulty]} puzzle after ${ellapsedTime}ms`)\r\n      return false\r\n    }\r\n  }\r\n\r\n  private shuffle(base: number[][]): number[][] {\r\n    const data = BASE.map(r => [...r]);\r\n    for (let i = 0; i < 4200; i++) {\r\n      this.moveRowOrColumn(data);\r\n    }\r\n    return data;\r\n  }\r\n\r\n  public getPuzzleData(): ([number, boolean])[][] {\r\n    return this.data.map((r, i) => r.map((y, l) => [this.solution[i][l], this.solution[i][l] === this.data[i][l]] as [number, boolean]));\r\n  }\r\n\r\n  private moveRowOrColumn(data: number[][]) {\r\n    const [from, to] = this.getFromAndTo()\r\n    if (!!Math.round(Math.random())) {\r\n      this.moveColumn(data, from, to);\r\n    } else {\r\n      this.moveRow(data, from, to);\r\n    }\r\n  }\r\n\r\n  private getFromAndTo(from: number = -1): [number, number] {\r\n    from = from === -1 ? Math.floor(Math.random() * 3) : from;\r\n    let to = ~~(Math.random() * 3);\r\n    if (to === from) {\r\n      return this.getFromAndTo(from);\r\n    }\r\n    const block = ~~(Math.random() * 3);\r\n    return [block * 3 + from, block * 3 + to];\r\n  }\r\n\r\n  private moveRow(data: number[][], from: number, to: number) {\r\n    const temp = data[to];\r\n    data[to] = data[from];\r\n    data[from] = temp;\r\n  }\r\n\r\n  private moveColumn(data: number[][], from: number, to: number) {\r\n    data.forEach(row => {\r\n      const temp = row[to];\r\n      row[to] = row[from];\r\n      row[from] = temp;\r\n    });\r\n  }\r\n}\r\n","import Generator from \"../models/Generator\"\r\nimport { DIFFICULTY } from \"../models/Difficulty\";\r\n\r\nconst ctx: Worker = self as any;\r\n\r\nctx.addEventListener(\"message\", (message) => {\r\n  const difficulty = message.data as DIFFICULTY;\r\n  const generator = new Generator(difficulty);\r\n  if (generator.generate()) {\r\n    const puzzleData = generator.getPuzzleData();\r\n    ctx.postMessage({\r\n      puzzleData,\r\n      difficulty\r\n    })\r\n  } else {\r\n    throw new Error(\"Could not generate puzzle.\")\r\n  }\r\n})\r\n\r\nexport default null as any"],"sourceRoot":""}